def filter_df_by_api_results(df, api_call_results, vip_col="manager_fqdn"):
    # api_call_results: list of (vip, qa_name, payload_or_none)
    bad_vips = {vip for (vip, _qa, payload) in api_call_results if payload is None}
    if not bad_vips:
        return df  # nothing to drop
    # keep only rows whose VIP is NOT in bad_vips
    return df[~df[vip_col].isin(bad_vips)].reset_index(drop=True)
