# Start from a base image (use your preferred one)
FROM registry.access.redhat.com/ubi8/python-39

# Install unzip, curl, tar, and any needed Python packages
RUN dnf install -y curl tar && \
    dnf clean all

# Download chromedriver .tgz from Artifactory
ADD https://www.artifactrepository.citigroup.net:443/artifactory/npm-3rdparty-local/chromedriver/-/chromedriver-133.0.3.tgz /tmp/chromedriver.tgz

# Extract and move chromedriver to /usr/local/bin
RUN mkdir -p /tmp/chromedriver-extract && \
    tar -xzf /tmp/chromedriver.tgz -C /tmp/chromedriver-extract --strip-components=1 && \
    mv /tmp/chromedriver-extract/chromedriver /usr/local/bin/chromedriver && \
    chmod +x /usr/local/bin/chromedriver && \
    rm -rf /tmp/chromedriver*
